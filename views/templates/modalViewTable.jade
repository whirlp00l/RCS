.modal-header
  h4
    a.glyphicon.glyphicon-remove.pull-right(ng-click="cancel()")
  h3.modal-title <b>{{table.TableName}}</b> 餐桌详情
    span(ng-if="editMode==true") &nbsp;(编辑模式)
.modal-body(collapse="!state.isCollapsed || !state.isOrderCollapsed")
  div
    pre 餐桌类型: <b>{{tableData.TableType}}</b>
    pre 当前状态: <b>{{getTableStatusText()}}</b> (更新时间： {{getStatusUpdateTime()}})
      a.pull-right(ng-if="editMode==false" ng-click="resetTable()" href="")
        b 重置(将添加确认)
    pre 请求信息: <b>{{getRequestInfo()}}</b>
    pre 点菜信息: <b>{{getOrderInfo()}}</b>
      a.pull-right(ng-if="editMode==false" ng-show="orderItems.length!=0" ng-click="state.isOrderCollapsed = !state.isOrderCollapsed" href="")
        b 显示明细
    pre 关联信息: <b>{{getLinkingInfo()}}</b>
      span(ng-show="isLinked()") &nbsp;(关联时间： {{getLinkingTime()}})
      a.pull-right(ng-if="editMode==false" ng-show="isLinked()" ng-click="removeLinking()" href="")
        b 移除关联
    pre 预订信息: <b>{{getBookingInfo()}}</b>
      a.pull-right(ng-if="editMode==false" ng-show="isBooked()==true" ng-click="cancelBooking()" href="")
        b 取消预订
      a.pull-right(ng-if="editMode==false" ng-show="isBooked()==false" ng-click="state.isCollapsed = !state.isCollapsed" href="")
        b 新建预订
.modal-footer(ng-if="editMode==true" collapse="!state.isCollapsed")
  button.material-button.material-button-raised.material-theme-red.full-width(ng-click="deleteTable()") 删除餐桌

.modal-header(ng-hide="state.isCollapsed == true")
  h4
    a.glyphicon.glyphicon-minus.pull-right(ng-click="state.isCollapsed = true")
  h3.modal-title 新建预订
form(ng-submit="newBooking()")
  .modal-body(collapse="state.isCollapsed")
    .row
      .col-xs-6
        .material-input-group.material-input-group-theme-red
          label.full-width(for="0") 顾客姓名
          input.full-width(id="0" type="text" ng-model="booking.newBookName" ng-required="true")
      .col-xs-6
        .material-input-group.material-input-group-theme-red
          label.full-width(for="1") 顾客联系方式
          input.full-width(id="1" type="text" ng-model="booking.newBookCell" ng-required="true")
    //- .row
      .col-xs-6
        pre 预定日期
          input.form-control(value="{{getDateFormat(booking.newBookDate)}}" readonly ng-required="true")
      .col-xs-6
        pre 预定时间
          input.form-control(value="{{getTimeFormat(booking.newBookTime)}}" readonly ng-required="true")
    .row
      .col-xs-6
        label.material-color-red 预定日期
        //- div.full-width(ui-date ng-model="booking.newBookDate" ng-required="true")
        datepicker.well.well-sm.customized(ng-model="booking.newBookDate" min-date="minDate" show-weeks="false" ng-required="true")
      .col-xs-6
        label.material-color-red 预定时间
        timepicker.customized(ng-model="booking.newBookTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" ng-required="true")
    input.no-show(type="submit" id="submit")
  .modal-footer(collapse="state.isCollapsed")
    input.material-button.material-button-raised.material-theme-red.full-width(type="submit" id="submit" value="确认预订")
  //- button.btn.btn-danger(ng-click="newBooking()") 确认预订

.modal-header(ng-hide="state.isOrderCollapsed == true")
  h4
    a.glyphicon.glyphicon-minus.pull-right(ng-click="state.isOrderCollapsed = true")
  h3.modal-title 已点菜品
.modal-body(collapse="state.isOrderCollapsed")
  .row
    .col-xs-10.col-xs-offset-1
      material-list
        material-item.list-header
          .material-tile-left
            b 类型
          .material-tile-content
            b 菜品
          .material-tile-right
            b 数量
        material-item(ng-repeat="orderItem in orderItems | orderBy:['type'] track by $index")
          .material-tile-left
            | {{orderItem.type}}
          .material-tile-content
            h2 {{orderItem.name}}
            h3 {{orderItem.price}}元
          .material-tile-right
            | {{orderItem.count}}